<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDFP - Gerenciamento de Hor√°rios | IFRO Cacoal</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üïí</text></svg>">
</head>
<body>
    <header class="cabecalho-institucional">
        <h1>INSTITUTO FEDERAL DE ROND√îNIA</h1>
        <h2>CAMPUS CACOAL</h2>
        <p>DEPARTAMENTO DE APOIO AO ENSINO</p>
        <p>COORDENA√á√ÉO DE DESENVOLVIMENTO DE FERRAMENTAS PEDAG√ìGICAS</p>
    </header>

    <div class="container-principal">
        <aside class="barra-lateral">
            <h3>Menu Principal</h3>
            <nav>
                <a href="#instituicao-cadastro" class="link-menu ativo">üè† INSTITUI√á√ÉO</a>
                <a href="#cadastro" class="link-menu">‚úçÔ∏è CADASTRO</a>
                <a href="#relatorio-individual" class="link-menu">üìÑ RELAT√ìRIO</a>
                <a href="#horario-base-gerar" class="link-menu">üìÖ HOR√ÅRIO BASE</a>
                <a href="#horario-semanal-gerar" class="link-menu">üóìÔ∏è HOR√ÅRIO SEMANAL</a>
            </nav>
            <hr>
            <h4>Sub-Menus de Cadastro</h4>
            <nav class="sub-menu">
                <a href="#cadastro-professores" class="sub-link-menu ativo">Professores</a>
                <a href="#cadastro-horarios" class="sub-link-menu">Hor√°rios (Per√≠odos)</a>
                <a href="#cadastro-turmas" class="sub-link-menu">Turmas</a>
                <a href="#cadastro-disciplinas" class="sub-link-menu">Disciplinas</a>
                <a href="#cadastro-calendario-integrado" class="sub-link-menu">Calend√°rio - Integrado</a>
                <a href="#cadastro-calendario-superior" class="sub-link-menu">Calend√°rio - Superior</a>
            </nav>
            <hr>
            <h4>Sub-Menus de Relat√≥rio</h4>
            <nav class="sub-menu">
                <a href="#relatorio-individual" class="sub-link-menu">Individual</a>
                <a href="#relatorio-turma" class="sub-link-menu">Turma</a>
                <a href="#relatorio-disciplina" class="sub-link-menu">Disciplina</a>
                <a href="#relatorio-csv" class="sub-link-menu">Exportar CSV (Semana)</a>
            </nav>
        </aside>

        <main class="conteudo-principal" id="conteudo-principal">
            
            <section id="cadastro-professores" class="aba-conteudo" style="display: block;">
                <h3 class="titulo-aba">‚úçÔ∏è Cadastro de Professores</h3>

                <div class="formulario-cadastro">
                    <form id="form-cadastro-professor">
                        
                        <h4>Dados B√°sicos</h4>
                        <div class="grid-form-basico">
                            <div class="grupo-campo">
                                <label for="nome">Nome:</label>
                                <input type="text" id="nome" name="nome" required>
                            </div>
                            <div class="grupo-campo">
                                <label for="siape">SIAPE/CPF:</label>
                                <input type="text" id="siape" name="siape" required>
                            </div>
                            <div class="grupo-campo">
                                <label for="email">E-mail:</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="grupo-campo">
                                <label for="situacao">Situa√ß√£o:</label>
                                <select id="situacao" name="situacao">
                                    <option value="DE">DE</option>
                                    <option value="40">40h</option>
                                    <option value="20">20h</option>
                                    <option value="Substituto">Substituto</option>
                                </select>
                            </div>
                        </div>

                        <h4 class="h4-restricoes">Restri√ß√µes de Prepara√ß√£o Did√°tica (PRD) e Gest√£o de Desempenho (PGD)</h4>
                        
                        <p class="nota-regra">‚ö†Ô∏è **Regra das 11 Horas de Descanso:** O sistema aplicar√° esta regra automaticamente entre o per√≠odo noturno e a manh√£ do dia seguinte.</p>
                        
                        <div class="grid-restricoes">
                            <div class="grupo-restricao prd-pgd">
                                <h5>PRD (Prepara√ß√£o Did√°tica) - Principal</h5>
                                <select name="prd_principal_dia" id="prd_principal_dia" required>
                                    <option value="">Escolher DIA da Semana</option>
                                    <option value="SEGUNDA">SEGUNDA</option>
                                    <option value="TERCA">TER√áA</option>
                                    <option value="QUINTA">QUINTA</option>
                                    <option value="SEXTA">SEXTA</option>
                                </select>
                                <select name="prd_principal_periodo" id="prd_principal_periodo" required>
                                    <option value="">Escolher PER√çODO</option>
                                    <option value="INTEIRO">DIA INTEIRO</option>
                                    <option value="MATUTINO">MATUTINO</option>
                                    <option value="VESPERTINO">VESPERTINO</option>
                                </select>
                            </div>

                            <div class="grupo-restricao prd-pgd">
                                <h5>PRD (Prepara√ß√£o Did√°tica) - Secund√°ria (Opcional)</h5>
                                <select name="prd_secundaria_dia" id="prd_secundaria_dia">
                                    <option value="">Escolher DIA da Semana</option>
                                    <option value="SEGUNDA">SEGUNDA</option>
                                    <option value="TERCA">TER√áA</option>
                                    <option value="QUINTA">QUINTA</option>
                                    <option value="SEXTA">SEXTA</option>
                                </select>
                                <select name="prd_secundaria_periodo" id="prd_secundaria_periodo">
                                    <option value="">Escolher PER√çODO</option>
                                    <option value="INTEIRO">DIA INTEIRO</option>
                                    <option value="MATUTINO">MATUTINO</option>
                                    <option value="VESPERTINO">VESPERTINO</option>
                                </select>
                            </div>

                            <div class="grupo-restricao prd-pgd">
                                <h5>PGD (Gest√£o de Desempenho) - Principal</h5>
                                <select name="pgd_principal_dia" id="pgd_principal_dia" required>
                                    <option value="">Escolher DIA da Semana</option>
                                    <option value="SEGUNDA">SEGUNDA</option>
                                    <option value="TERCA">TER√áA</option>
                                    <option value="QUINTA">QUINTA</option>
                                    <option value="SEXTA">SEXTA</option>
                                </select>
                                <select name="pgd_principal_periodo" id="pgd_principal_periodo" required>
                                    <option value="">Escolher PER√çODO</option>
                                    <option value="INTEIRO">DIA INTEIRO</option>
                                    <option value="MATUTINO">MATUTINO</option>
                                    <option value="VESPERTINO">VESPERTINO</option>
                                </select>
                            </div>

                            <div class="grupo-restricao prd-pgd">
                                <h5>PGD (Gest√£o de Desempenho) - Secund√°ria (Opcional)</h5>
                                <select name="pgd_secundaria_dia" id="pgd_secundaria_dia">
                                    <option value="">Escolher DIA da Semana</option>
                                    <option value="SEGUNDA">SEGUNDA</option>
                                    <option value="TERCA">TER√áA</option>
                                    <option value="QUINTA">QUINTA</option>
                                    <option value="SEXTA">SEXTA</option>
                                </select>
                                <select name="pgd_secundaria_periodo" id="pgd_secundaria_periodo">
                                    <option value="">Escolher PER√çODO</option>
                                    <option value="INTEIRO">DIA INTEIRO</option>
                                    <option value="MATUTINO">MATUTINO</option>
                                    <option value="VESPERTINO">VESPERTINO</option>
                                </select>
                            </div>
                        </div>

                        <h4 class="h4-restricoes">Restri√ß√µes Gerais de Hor√°rio</h4>
                        <div class="grid-restricoes-gerais">
                            
                            <div class="grupo-restricao">
                                <h5>Per√≠odo Completo Livre</h5>
                                <label for="restricao_manha">N√£o Trabalhar Manh√£:</label>
                                <select name="restricao_manha" id="restricao_manha">
                                    <option value="">Nenhum Dia</option>
                                    <option value="SEGUNDA">Segunda</option>
                                    <option value="TERCA">Ter√ßa</option>
                                    <option value="QUARTA">Quarta</option>
                                    <option value="QUINTA">Quinta</option>
                                    <option value="SEXTA">Sexta</option>
                                </select>
                                <label for="restricao_tarde">N√£o Trabalhar Tarde:</label>
                                <select name="restricao_tarde" id="restricao_tarde">
                                    <option value="">Nenhum Dia</option>
                                    <option value="SEGUNDA">Segunda</option>
                                    <option value="TERCA">Ter√ßa</option>
                                    <option value="QUINTA">Quinta</option>
                                    <option value="SEXTA">Sexta</option>
                                </select>
                                <label for="restricao_noite">N√£o Trabalhar Noite:</label>
                                <select name="restricao_noite" id="restricao_noite">
                                    <option value="">Nenhum Dia</option>
                                    <option value="SEGUNDA">Segunda</option>
                                    <option value="TERCA">Ter√ßa</option>
                                    <option value="QUARTA">Quarta</option>
                                    <option value="QUINTA">Quinta</option>
                                    <option value="SEXTA">Sexta</option>
                                </select>
                            </div>
                            
                            <div class="grupo-restricao">
                                <h5>Aulas Pontuais Restritas</h5>
                                <label for="restricao_primeira_manha">N√£o a Primeira da Manh√£:</label>
                                <select name="restricao_primeira_manha" id="restricao_primeira_manha">
                                    <option value="NAO">N√£o</option>
                                    <option value="SIM">Sim</option>
                                </select>
                                <label for="restricao_duas_primeiras_manha">N√£o as Duas Primeiras da Manh√£:</label>
                                <select name="restricao_duas_primeiras_manha" id="restricao_duas_primeiras_manha">
                                    <option value="NAO">N√£o</option>
                                    <option value="SIM">Sim</option>
                                </select>
                                <label for="restricao_ultima_manha">N√£o a √öltima da Manh√£:</label>
                                <select name="restricao_ultima_manha" id="restricao_ultima_manha">
                                    <option value="NAO">N√£o</option>
                                    <option value="SIM">Sim</option>
                                </select>
                                <label for="restricao_primeira_tarde">N√£o a Primeira da Tarde:</label>
                                <select name="restricao_primeira_tarde" id="restricao_primeira_tarde">
                                    <option value="NAO">N√£o</option>
                                    <option value="SIM">Sim</option>
                                </select>
                                <label for="restricao_ultima_tarde">N√£o a √öltima da Tarde:</label>
                                <select name="restricao_ultima_tarde" id="restricao_ultima_tarde">
                                    <option value="NAO">N√£o</option>
                                    <option value="SIM">Sim</option>
                                </select>
                                <label for="restricao_duas_ultimas_tarde">N√£o as Duas √öltimas da Tarde:</label>
                                <select name="restricao_duas_ultimas_tarde" id="restricao_duas_ultimas_tarde">
                                    <option value="NAO">N√£o</option>
                                    <option value="SIM">Sim</option>
                                </select>
                            </div>
                        </div>
                    
                    </form>
                    
                    <button class="botao-salvar" type="button" data-save-target="professor">üíæ SALVAR INFORMA√á√ïES</button>
                </div>

                <div class="lista-professores">
                    <h4>Lista de Docentes Cadastrados (Editar/Remover)</h4>
                    <table class="tabela-dados" id="tabela-professores">
                        <thead>
                            <tr>
                                <th>SIAPE</th>
                                <th>Nome</th>
                                <th>E-mail</th>
                                <th>Situa√ß√£o</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody>
                            </tbody>
                    </table>
                </div>
            </section>
            
            <section id="cadastro-horarios" class="aba-conteudo" style="display:none;">
                 <h3 class="titulo-aba">‚è∞ Cadastro de Hor√°rios (Per√≠odos)</h3>
                 
                 <form id="form-cadastro-horarios" class="formulario-cadastro">
                    
                    <h4>Hor√°rio Matutino</h4>
                    <div id="horarios-matutino" class="container-horarios">
                        </div>
                    <button type="button" class="botao-acao botao-editar" onclick="adicionarCampoHorario('matutino')">‚ûï Inserir Novo Hor√°rio Matutino</button>

                    <h4>Hor√°rio Vespertino</h4>
                    <div id="horarios-vespertino" class="container-horarios">
                        </div>
                    <button type="button" class="botao-acao botao-editar" onclick="adicionarCampoHorario('vespertino')">‚ûï Inserir Novo Hor√°rio Vespertino</button>
                    
                    <h4>Hor√°rio Noturno</h4>
                    <div id="horarios-noturno" class="container-horarios">
                        </div>
                    <button type="button" class="botao-acao botao-editar" onclick="adicionarCampoHorario('noturno')">‚ûï Inserir Novo Hor√°rio Noturno</button>

                    <button class="botao-salvar" type="button" data-save-target="horario">üíæ SALVAR INFORMA√á√ïES</button>
                 </form>
                 
                 <div class="lista-dados">
                    <h4>Hor√°rios Cadastrados (Vis√£o Geral)</h4>
                    </div>
            </section>

            <section id="cadastro-turmas" class="aba-conteudo" style="display:none;">
                 <h3 class="titulo-aba">üë• Cadastro de Turmas</h3>
                 
                 <form id="form-cadastro-turmas" class="formulario-cadastro">
                    <div class="grid-form-basico">
                        <div class="grupo-campo">
                            <label for="turma_nome">Nome da Turma:</label>
                            <input type="text" id="turma_nome" name="turma_nome" required>
                        </div>
                        <div class="grupo-campo">
                            <label for="turma_modalidade">Modalidade:</label>
                            <select id="turma_modalidade" name="turma_modalidade" required>
                                <option value="">Selecione</option>
                                <option value="INTEGRADO">INTEGRADO</option>
                                <option value="SUPERIOR_1_TURNO">SUPERIOR (1 Turno)</option>
                                <option value="SUPERIOR_2_TURNOS">SUPERIOR (2 Turnos)</option>
                            </select>
                        </div>
                        <div class="grupo-campo">
                            <label for="turma_sala">Sala Padr√£o:</label>
                            <input type="text" id="turma_sala" name="turma_sala" placeholder="Ex: Sala 101" required>
                        </div>
                        <div class="grupo-campo">
                            <label for="turma_turno_primario">Turno Prim√°rio:</label>
                            <select id="turma_turno_primario" name="turma_turno_primario" required>
                                <option value="">Selecione</option>
                                <option value="MANHA">Manh√£</option>
                                <option value="TARDE">Tarde</option>
                                <option value="NOITE">Noite</option>
                            </select>
                        </div>
                        <div class="grupo-campo">
                            <label for="turma_turno_secundario">Turno Secund√°rio (Opcional):</label>
                            <select id="turma_turno_secundario" name="turma_turno_secundario">
                                <option value="">Nenhum/Opcional</option>
                                <option value="MANHA">Manh√£</option>
                                <option value="TARDE">Tarde</option>
                                <option value="NOITE">Noite</option>
                            </select>
                        </div>
                    </div>
                    <button class="botao-salvar" type="button" data-save-target="turma">üíæ SALVAR INFORMA√á√ïES</button>
                 </form>
                 <div class="lista-dados">
                    <h4>Lista de Turmas Cadastradas</h4>
                    <table class="tabela-dados" id="tabela-turmas">
                        <thead>
                            <tr><th>Nome</th><th>Modalidade</th><th>Sala</th><th>Turnos</th><th>A√ß√µes</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                 </div>
            </section>

            <section id="cadastro-disciplinas" class="aba-conteudo" style="display:none;">
                 <h3 class="titulo-aba">üìö Cadastro de Disciplinas</h3>
                 
                 <form id="form-cadastro-disciplinas" class="formulario-cadastro">
                    <div class="grid-form-basico">
                        <div class="grupo-campo">
                            <label for="disciplina_nome">Nome da Disciplina:</label>
                            <input type="text" id="disciplina_nome" name="disciplina_nome" required>
                        </div>
                        <div class="grupo-campo">
                            <label for="disciplina_turma">Turma Associada:</label>
                            <select id="disciplina_turma" name="disciplina_turma" required>
                                <option value="">Carregar Turmas...</option>
                            </select>
                        </div>
                        <div class="grupo-campo">
                            <label for="disciplina_professor">Professor Vinculado:</label>
                            <select id="disciplina_professor" name="disciplina_professor" required>
                                <option value="">Carregar Professores...</option>
                            </select>
                        </div>
                        <div class="grupo-campo">
                            <label for="disciplina_aulas_semanais">Aulas Semanais:</label>
                            <input type="number" id="disciplina_aulas_semanais" name="disciplina_aulas_semanais" min="1" max="10" required>
                        </div>
                    </div>

                    <h4>Restri√ß√µes de Aglutina√ß√£o e Fixa√ß√£o de Hor√°rio</h4>
                    <div class="grid-form-basico">
                        <div class="grupo-campo">
                            <label for="disciplina_fixa_horario">Fixar em Hor√°rio Espec√≠fico?</label>
                            <select id="disciplina_fixa_horario" name="disciplina_fixa_horario">
                                <option value="NAO">N√£o (Gerar Automaticamente)</option>
                                <option value="SIM">Sim (Definir Dia/Hora abaixo)</option>
                            </select>
                        </div>
                        <div class="grupo-campo">
                            <label for="disciplina_aglutinacao">Op√ß√£o de Aglutina√ß√£o:</label>
                            <select id="disciplina_aglutinacao" name="disciplina_aglutinacao" required>
                                <option value="">Selecione (Baseado em Aulas Semanais)</option>
                                </select>
                        </div>
                    </div>
                    
                    <button class="botao-salvar" type="button" data-save-target="disciplina">üíæ SALVAR INFORMA√á√ïES</button>
                 </form>
                 <div class="lista-dados">
                    <h4>Lista de Disciplinas Cadastradas</h4>
                    <table class="tabela-dados" id="tabela-disciplinas">
                        <thead>
                            <tr><th>Disciplina</th><th>Turma</th><th>Professor</th><th>Aulas Semanais</th><th>Aglutina√ß√£o</th><th>A√ß√µes</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                 </div>
            </section>
            
            <section id="instituicao-cadastro" class="aba-conteudo" style="display:none;">
                 <h3 class="titulo-aba">üè† Cadastro da Institui√ß√£o</h3>
                 <p>Campos para Nome, Endere√ßo, Diretores, etc.</p>
                 <div class="lista-dados"><h4>Lista de Cursos e Turmas (Baseado nos Cadastros)</h4></div>
            </section>
            <section id="cadastro-calendario-integrado" class="aba-conteudo" style="display:none;">
                <h3 class="titulo-aba">üóìÔ∏è Calend√°rio - Cursos Integrados</h3>
                <div id="calendario-integrado-container">
                    <div class="ferramentas-calendario">
                        <h4>Ferramentas de Configura√ß√£o (Integrado)</h4>
                        <div class="grid-form-basico">
                            <div class="grupo-campo">
                                <label for="cal_int_ano">Ano Letivo:</label>
                                <select id="cal_int_ano" name="ano_letivo" onchange="renderizarCalendario('integrado')" required>
                                    <option value="2025">2025</option>
                                    <option value="2026">2026</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="legenda-calendario">
                            <h5>Status do Dia (Clique C√≠clico):</h5>
                            <span class="dia-calendario" data-tipo="LETV">Letivo (Padr√£o)</span>
                            <span class="dia-calendario" data-tipo="NAO_LETV">N√£o Letivo (1 Clique)</span>
                            <span class="dia-calendario" data-tipo="FERIADO">Feriado/Recesso (2 Cliques)</span>
                            <span class="dia-calendario" data-tipo="RECUPERACAO">Recupera√ß√£o (3 Cliques)</span>
                            <span class="dia-calendario" data-tipo="EXAME">Exame Final (4 Cliques)</span>
                        </div>
                        
                        <div class="botoes-acao-rapida">
                            <h5>A√ß√µes R√°pidas de Sele√ß√£o:</h5>
                            <button type="button" class="botao-acao" onclick="aplicarAcaoRapida('integrado', 'diaSemana', 1, 'NAO_LETV')">Todas as Segundas (N√£o Letivo)</button>
                            <button type="button" class="botao-acao" onclick="aplicarAcaoRapida('integrado', 'diaSemana', 6, 'SAB_LETV')">Todos os S√°bados (Letivo)</button>
                            <button type="button" class="botao-acao botao-remover" onclick="limparSelecao('integrado')">Zerar Calend√°rio (Tudo LETIVO)</button>
                        </div>
                    </div>
                    
                    <button class="botao-salvar" type="button" data-save-target="calendario_integrado">üíæ SALVAR CALEND√ÅRIO DO ANO</button>
                    
                    <div class="grade-calendario-anual" id="grade-calendario-integrado-visual">
                        </div>
                </div>
            </section>

            <section id="cadastro-calendario-superior" class="aba-conteudo" style="display:none;">
                <h3 class="titulo-aba">üóìÔ∏è Calend√°rio - Cursos Superiores</h3>
                 <div id="calendario-superior-container">
                    <div class="ferramentas-calendario">
                        <h4>Ferramentas de Configura√ß√£o (Superior)</h4>
                        <div class="grid-form-basico">
                            <div class="grupo-campo">
                                <label for="cal_sup_ano">Ano Letivo:</label>
                                <select id="cal_sup_ano" name="ano_letivo" onchange="renderizarCalendario('superior')" required>
                                    <option value="2025">2025</option>
                                    <option value="2026">2026</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="legenda-calendario">
                            <h5>Status do Dia (Clique C√≠clico):</h5>
                            <span class="dia-calendario" data-tipo="LETV">Letivo (Padr√£o)</span>
                            <span class="dia-calendario" data-tipo="NAO_LETV">N√£o Letivo (1 Clique)</span>
                            <span class="dia-calendario" data-tipo="FERIADO">Feriado/Recesso (2 Cliques)</span>
                            <span class="dia-calendario" data-tipo="RECUPERACAO">Recupera√ß√£o (3 Cliques)</span>
                            <span class="dia-calendario" data-tipo="EXAME">Exame Final (4 Cliques)</span>
                        </div>

                        <div class="botoes-acao-rapida">
                            <h5>A√ß√µes R√°pidas de Sele√ß√£o:</h5>
                            <button type="button" class="botao-acao" onclick="aplicarAcaoRapida('superior', 'diaSemana', 1, 'NAO_LETV')">Todas as Segundas (N√£o Letivo)</button>
                            <button type="button" class="botao-acao" onclick="aplicarAcaoRapida('superior', 'diaSemana', 6, 'SAB_LETV')">Todos os S√°bados (Letivo)</button>
                            <button type="button" class="botao-acao botao-remover" onclick="limparSelecao('superior')">Zerar Calend√°rio (Tudo LETIVO)</button>
                        </div>
                    </div>
                    <button class="botao-salvar" type="button" data-save-target="calendario_superior">üíæ SALVAR CALEND√ÅRIO DO ANO</button>
                    <div class="grade-calendario-anual" id="grade-calendario-superior-visual">
                        </div>
                </div>
            </section>
            
            <section id="relatorio-individual" class="aba-conteudo" style="display:none;"><h3 class="titulo-aba">üìÑ Relat√≥rio Individual</h3></section>
            <section id="relatorio-turma" class="aba-conteudo" style="display:none;"><h3 class="titulo-aba">üìÑ Relat√≥rio de Turma</h3></section>
            <section id="relatorio-disciplina" class="aba-conteudo" style="display:none;"><h3 class="titulo-aba">üìÑ Relat√≥rio de Disciplina</h3></section>
            <section id="relatorio-csv" class="aba-conteudo" style="display:none;"><h3 class="titulo-aba">üìÑ Exportar CSV (Semana)</h3></section>
            <section id="horario-base-gerar" class="aba-conteudo" style="display:none;"><h3 class="titulo-aba">üìÖ Gera√ß√£o de Hor√°rio Base</h3></section>
            <section id="horario-semanal-gerar" class="aba-conteudo" style="display:none;"><h3 class="titulo-aba">üóìÔ∏è Gera√ß√£o de Hor√°rio Semanal</h3></section>

        </main>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
